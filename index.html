<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        html, body, h1, h2, h3, h4, h5 {font-family: "Open Sans", sans-serif}
    </style>
    <title>Greetings</title>
</head>
<body class="w3-theme-l5">

<div class="w3-top">
    <div class="w3-bar w3-white w3-left-align w3-large w3-card">
        <a href="#" class="w3-bar-item"><img src="img/logo.png" class="w3-image" style="height: 35px;"></a>
        <span class="w3-bar-item w3-padding-large w3-hide-large">LESSON 1.1 &nbsp; GREETINGS</span>
        <span class="w3-bar-item w3-padding-large w3-hide-small w3-hide-medium">LESSON 1.1 &nbsp; GREETINGS AND FAREWELLS: SALUDOS Y DESPEDIDAS</span>
    </div>
</div>

<div class="w3-container w3-content" style="max-width: 1400px; margin-top: 80px;">

<div id="intro" class="w3-card w3-round w3-white">
    <div class="w3-container w3-large">
        <p>Pocas cosas pueden denotar educación y decoro como el saludo y la despedida. Es una actividad cotidiana que es asunto obligatorio al socializar con semejantes y amigos y es por esto que es nuestro primer tema.</p>
    </div>
</div>

<br><br>

<!--Vocabulary 1-->
<div id="vocabulary" class="w3-card w3-round w3-white">
    <div class="w3-container">
        <h1>Vocabulary</h1>
        <p><a href="#" onclick="myFunction(0,res)"><i class="fa fa-play-circle w3-xlarge"></i></a>&nbsp;&nbsp;<span class="w3-large">Listen. Then listen and repeat</span><span class="w3-text-grey">&nbsp; Escucha. Luego escucha y repite</span></p>
        <hr>
        <div class="w3-row w3-center">
            <div class="w3-col s4 m4 l4">
                <img src="img/1_1_1.jpg" alt="good morning" class="w3-image">
            </div>
            <div class="w3-col s4 m4 l4">
                <img src="img/1_1_2.jpg" alt="good afternoon" class="w3-image">
            </div>
            <div class="w3-col s4 m4 l4">
                <img src="img/1_1_3.jpg" alt="good evening" class="w3-image">
            </div>
        </div>
    </div>
</div>

<br><br>

<!--Vocabulary 2-->
<div id="vocabulary" class="w3-card w3-round w3-white">
  <div class="w3-container">
      <h1>Vocabulary</h1>
      <p><a href="#" onclick="myFunction(1,res)"><i class="fa fa-play-circle w3-xlarge"></i></a>&nbsp;&nbsp;<span class="w3-large">Listen. Then listen and repeat</span><span class="w3-text-grey">&nbsp; Escucha. Luego escucha y repite</span></p>
      <hr>
      <div class="w3-row w3-center">
          <div class="w3-col s4 m4 l4">
              <img src="img/1_1_4.png" alt="see you later" class="w3-image">
          </div>
          <div class="w3-col s4 m4 l4">
              <img src="img/1_1_5.png" alt="see you soon/tomorrow" class="w3-image">
          </div>
          <div class="w3-col s4 m4 l4">
              <img src="img/1_1_6.png" alt="good night" class="w3-image">
          </div>
      </div>
  </div>
</div>

<br><br>

<!--Other Vocabulary-->
<div class="w3-card w3-round w3-white">
    <div class="w3-container">
        <h1>Other Vocabulary</h1>
        <p><a href="#" onclick="myFunction(0,res)"><i class="fa fa-play-circle w3-xlarge"></i></a>&nbsp;&nbsp;<span class="w3-large">Listen and repeat</span><span class="w3-text-grey">&nbsp; Escucha y repite</span></p>
        <hr>
        <p class="w3-large">Greetings and some possible answers:<br>
          <span class="w3-text-orange">Greeting: </span><b>Hi!</b><br>
          <span class="w3-text-purple">Possible answers: </span><b>Hi! / Hello!</b><br>
          <span class="w3-text-orange">Greeting: </span> <b>How are you?</b><br>
          <span class="w3-text-purple">Possible answers: </span><b>Good. And you? / I’m fine thank you / I’m well, and you? / I’m great / I’m tired / I’m sick / I’m sad / I’m angry / I’m thirsty.</b><br>
          <span class="w3-text-orange">Greeting: </span> <b>How is everything?</b><br>
          <span class="w3-text-purple">Possible answers: </span><b>Everything is ok / Everything is good / Everything is wrong.</b><br>
          <span class="w3-text-orange">Greeting: </span> <b>What’s up?</b><br>
          <span class="w3-text-purple">Possible answers: </span><b>Hi! / Good! / Not bad!</b><br>
          <span class="w3-text-orange">Greeting: </span><b>How’s your family going?</b><br>
          <span class="w3-text-purple">Possible answers: </span><b>My family is good / My family is wrong.</b><br>
        </p>
    </div>
</div>

<br><br>

<!--Meanings-->
<div class="w3-card w3-round w3-white">
    <div class="w3-container">
        <h1>Meanings</h1>
        <p><span class="w3-large">Meaning of the words</span><span class="w3-text-grey">&nbsp; Significado de las palabras</span></p>
        <hr>
        <p class="w3-large">
          <b>Hi:</b><span class="w3-text-green">  Hola</span><br>
          <b>Hello:</b><span class="w3-text-green">  Hola</span><br>
          <b>How are you?:</b><span class="w3-text-green"> ¿Como estas?</span><br>
          <b>Good. And you?:</b><span class="w3-text-green">  ¿Bien y tu?</span><br>
          <b>I’m fine, thanks:</b><span class="w3-text-green"> Estoy bien, gracias.</span><br>
          <b>I’m well and you?:</b><span class="w3-text-green"> Estoy bien. ¿Y tu?</span><br>
          <b>I’m great:</b><span class="w3-text-green"> Estoy genial.</span><br>
          <b>I’m tired:</b><span class="w3-text-green"> Estoy cansado, estoy cansada.</span><br>
          <b>I’m sick:</b><span class="w3-text-green"> Estoy enfermo, estoy enferma.</span><br>
          <b>I’m sad:</b><span class="w3-text-green"> Estoy triste.</span><br>
          <b>I’m angry:</b><span class="w3-text-green"> Estoy enojado, estoy enojada</span><br>
          <b>I’m thirsty:</b><span class="w3-text-green"> Estoy sediento, estoy sedienta.</span><br>
          <b>How is everything?:</b><span class="w3-text-green"> Como ¿esta todo?</span><br>
          <b>Everything is ok:</b><span class="w3-text-green"> Todo bien.</span><br>
          <b>Everything is good:</b><span class="w3-text-green">  Todo bien.</span><br>
          <b>Everything is wrong:</b><span class="w3-text-green"> Todo mal.</span><br>
          <b>What’s up?:</b><span class="w3-text-green"> ¿Que tal?, ¿Que hubo?</span><br>
          <b>Not bad:</b><span class="w3-text-green"> No mal.</span><br>
          <b>How’s your family going?:</b><span class="w3-text-green"> ¿Como esta tu familia?</span><br>
          <b>My family is good:</b><span class="w3-text-green"> Mi familia esta bien.</span><br>
          <b>My family is wrong:</b><span class="w3-text-green"> Mi familia esta mal.</span><br>
        </p>
    </div>
</div>

<br><br>

<!--Grammar Exercises-->
<div class="w3-card w3-round w3-white">
  <div class="w3-container">
      <h1>Grammar Exercises</h1>
      <p><span class="w3-large">Fill in the blanks with the words given above</span><span class="w3-text-grey">&nbsp; Selecciona la palabra correcta</span></p>
      <hr>
      <p>a. <select><option value="value1"></option><option value="value2">Good</option><option value="value3">Bad</option><option value="value4">Are</option></select> morning!</p>
      <p>b. How <select><option value="value1"></option><option value="value2">Good</option><option value="value3">Bad</option><option value="value4">Are</option></select> you?</p>
      <p>c. How is everything? <select><option value="value1"></option><option value="value2">How</option><option value="value3">Everything</option><option value="value4">I am</option></select> is good.</p>
      <p>d. <select><option value="value1"></option><option value="value2">Are</option><option value="value3">What's</option><option value="value4">you</option></select> up?</p>
      <p>e. My <select><option value="value1"></option><option value="value2">family</option><option value="value3">are</option><option value="value4">good</option></select> is wrong</p>
      <p>f. <select><option value="value1"></option><option value="value2">Family</option><option value="value3">Bad</option><option value="value4">I'am</option></select> thirsty.</p>
      <hr>
      <p class="w3-center"><button class="w3-button w3-theme-d4 w3-round">Comprobar</button></p>
    </div>
</div>

<br><br>

<!--Writing Exercises-->
<div class="w3-card w3-round w3-white">
  <div class="w3-container">
      <h1>Writing Exercises</h1>
      <p><span class="w3-large">Write in correct order all the expressions</span><span class="w3-text-grey">&nbsp; Escribe en el orden correcto las siguientes expresiones</span></p>
      <hr>
      <p>a)	You are how? &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <p>b)	You, and good? &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <p>c)	Fine, I’m thanks &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <p>d)	Is how everything? &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <p>h)	Good is my family. &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <hr>
      <p class="w3-center"><button class="w3-button w3-theme-d4 w3-round">Comprobar</button></p>
    </div>
</div>

<br><br>

<!--Translate Exercises-->
<div class="w3-card w3-round w3-white">
  <div class="w3-container">
      <h1>Translate Exercises</h1>
      <p><span class="w3-large">Translate all the expressions</span><span class="w3-text-grey">&nbsp; Traduce las siguientes expresiones</span></p>
      <hr>
      <p>a)	Mi familia está bien &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <p>b)	Estoy bien. ¿Y tú? &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <p>c)	Tengo sed &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <p>d)	Estoy triste &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <p>e)	¿Como esta todo? &nbsp; <input class="w3-input w3-round w3-border" type="text"></p>
      <hr>
      <p class="w3-center"><button class="w3-button w3-theme-d4 w3-round">Comprobar</button></p>
    </div>
</div>

<br><br>

<!--7.	READING EXERCISE-->
<div class="w3-card w3-round w3-white">
  <div class="w3-container">
      <h1>Reading Exercises</h1>
      <p><span class="w3-large">Make the reading and select the correct option</span><span class="w3-text-grey">&nbsp; Leer y seleccionar la opción correcta</span></p>
      <hr>
      <div class="w3-panel w3-purple w3-card-4">
          <p><a href="#" class="w3-xlarge" onclick="myFunction2()"><i class="fa fa-play-circle"></i></a></p>
          <p id="pa">Greeting is an important part of our socialization with other people. Before 12:00 PM we say “good morning”. Among 12:00 PM and 6:00PM we say “good afternoon” and at night, when we greet, we say “good evening”, but in farewell, we say “good night”. It is important to highlight that while it is night and before going to bed, in a greet we say good evening although it is 2 o’clock AM. Just when we have slept and gotten up we can say “good morning” even it is night after 12 AM.</p>
      </div>
      <br>
      <div>
          <p>1) We meet at a breakfast with a friend, we must say:</p>
          <input class="w3-radio" type="radio" name="gender" value="male" checked><label> Good morning</label>
          <input class="w3-radio" type="radio" name="gender" value="male" checked><label> Good afternoon</label>
          <input class="w3-radio" type="radio" name="gender" value="male" checked><label> Good evening</label>
          <input class="w3-radio" type="radio" name="gender" value="male" checked><label> Good night</label>
      </div>
      <br>
      <div>
          <p>2) The graduation of my soon is at 3:00 o’clock. I see my friend at the place of the graduation and I greet him, saying:</p>
          <input class="w3-radio" type="radio" name="uno" value="male" checked><label> Good morning</label>
          <input class="w3-radio" type="radio" name="uno" value="male" checked><label> Good afternoon</label>
          <input class="w3-radio" type="radio" name="uno" value="male" checked><label> Good evening</label>
          <input class="w3-radio" type="radio" name="uno" value="male" checked><label> Good night</label>
      </div>
      <br>
      <div>
          <p>3) My girlfriend was at a party with me. I take her to her house and she says goodbye to me when saying:</p>
          <input class="w3-radio" type="radio" name="dos" value="male" checked><label> Good morning</label>
          <input class="w3-radio" type="radio" name="dos" value="male" checked><label> Good afternoon</label>
          <input class="w3-radio" type="radio" name="dos" value="male" checked><label> Good evening</label>
          <input class="w3-radio" type="radio" name="dos" value="male" checked><label> Good night</label>
      </div>
      <br>
      <div>
          <p>4) I am drinking too much water when a friend of mine sees me. He asks me “how are  you?” and I response:</p>
          <input class="w3-radio" type="radio" name="tres" value="male" checked><label> I’m sleepy</label>
          <input class="w3-radio" type="radio" name="tres" value="male" checked><label> I’m thirsty</label>
          <input class="w3-radio" type="radio" name="tres" value="male" checked><label> I’m sad</label>
          <input class="w3-radio" type="radio" name="tres" value="male" checked><label> I’m angry</label>
      </div>
      <hr>
      <p class="w3-center"><button class="w3-button w3-theme-d4 w3-round">Comprobar</button></p>
  </div>
</div>

<br><br>

<!--Translate Exercises-->
<div class="w3-card w3-round w3-white">
  <div class="w3-container">
      <h1>Write all what you hear</h1>
      <p><span class="w3-large">Listen and write all the expressions</span><span class="w3-text-grey">&nbsp; Escucha y escribe las siguientes expresiones</span></p>
      <hr>
      <div class="w3-row">
        <div class="w3-col" style="width:50px"><p><a href="#" class="w3-xlarge" onclick="myFunction(2,res)"><i class="fa fa-play-circle"></i></a></p></div>
        <div class="w3-rest"><p><input class="w3-input w3-round w3-border" type="text"></p></div>
      </div>
      <div class="w3-row">
        <div class="w3-col" style="width:50px"><p><a href="#" class="w3-xlarge" onclick="myFunction(3,res)"><i class="fa fa-play-circle"></i></a></p></div>
        <div class="w3-rest"><p><input class="w3-input w3-round w3-border" type="text"></p></div>
      </div>
      <div class="w3-row">
        <div class="w3-col" style="width:50px"><p><a href="#" class="w3-xlarge" onclick="myFunction(4,res)"><i class="fa fa-play-circle"></i></a></p></div>
        <div class="w3-rest"><p><input class="w3-input w3-round w3-border" type="text"></p></div>
      </div>
      <br>
  </div>
</div>

<br><br>

<!--Translate Exercises-->
<div class="w3-card w3-round w3-white">
  <div class="w3-container">
      <h1>Speaking Exercises</h1>
      <p><span class="w3-large">Pronounce all the expressions you see below</span><span class="w3-text-grey">&nbsp; Pronuncia las siguientes expresiones</span></p>
      <hr>
      <p><a href="#" onclick="runSpeechRecognition()"><i class="fa fa-microphone"></i></a>&nbsp;&nbsp;How are you?</p>
      <p><a href="#" onclick="runSpeechRecognition()"><i class="fa fa-microphone"></i></a>&nbsp;&nbsp;I’m fine thank you.</p>
      <p><a href="#" onclick="runSpeechRecognition()"><i class="fa fa-microphone"></i></a>&nbsp;&nbsp;I’m well and you?</p>
      <p id="output" class="w3-text-blue"></p>
      <br>
    </div>
</div>

<br><br><br>

<div>
    <label for="rate">Rate</label><input type="range" min="0.5" max="2" value="1" step="0.1" id="rate">
    <div class="rate-value">1</div>
    <div class="clearfix"></div>
</div>
<div>
    <label for="pitch">Pitch</label><input type="range" min="0" max="2" value="1" step="0.1" id="pitch">
    <div class="pitch-value">1</div>
    <div class="clearfix"></div>
</div>
<select id="select">
</select>

<br><br><br>

</div>


<script>

const synth = window.speechSynthesis;
const voiceSelect = document.querySelector("#select");

const pitch = document.querySelector("#pitch");
const pitchValue = document.querySelector(".pitch-value");
const rate = document.querySelector("#rate");
const rateValue = document.querySelector(".rate-value");

const par = "Greeting is an important part of our socialization with other people. Before 12:00 PM we say “good morning”. Among 12:00 PM and 6:00PM we say “good afternoon” and at night, when we greet, we say “good evening”, but in farewell, we say “good night”. It is important to highlight that while it is night and before going to bed, in a greet we say good evening although it is 2 o’clock AM. Just when we have slept and gotten up we can say “good morning” even it is night after 12 AM.";

const des = ["An accident happened between two cars travelling in the same direction. One car was travelling at 30 miles per hour. As the driver was rounding the corner, he drove straight into another car which was on wrong side of the road. The driver lost control of the car and ploughed into a tree","As the driver went through a red light, he drove straight into oncoming traffic","A lorry jackknifed, spilling its load over the road","A car skidded on a wet surface and the driver lost control","A brakes failed","The driver was under the influence of alcohol","The driver was on his mobile phone at the same time","The accident was due to pilot","The car was speeding"];
const voc = ["a collision","a mid-air collision","a head-on collision","a car crash","a derailment","a multiple or a pile-up"];
const res = ["Good morning. Good afternoon. Good evening.", "see you later. see you soon. good night","How are you?","I’m fine, thank you","I’m well, and you?"];

let voices = [];

function speak(txt) {
    const utterThis = new SpeechSynthesisUtterance(txt);

    utterThis.onend = function (event) {
      console.log("SpeechSynthesisUtterance.onend");
    };
    utterThis.onerror = function (event) {
      console.error("SpeechSynthesisUtterance.onerror");
    };

    const selectedOption = voiceSelect.selectedOptions[0].getAttribute("data-name");
    
    //console.log(voices);
    /*for (let i = 0; i < voices.length; i++) {
      if (voices[i].name === "Microsoft Zira - English (United States)") {
        console.log(voices[i].name);
      }
    }*/

    utterThis.voice = voices[0];
    utterThis.pitch = 0.6;
    utterThis.rate = 0.6;
    

    for (let i = 0; i < voices.length; i++) {
      //console.log(voices[i].name);
      /*if (voices[i].name === selectedOption) {
      //if (voices[i].name == "Microsoft Zira - English (United States)") {
        console.log(voices[i].name);
        utterThis.voice = voices[i];
        //break;
      }*/
      
      if (voices[i].name == "Microsoft Guy Online (Natural) - English (United States)") {
        console.log(voices[i].name);
        utterThis.voice = voices[i];
        utterThis.pitch = 0.9;
        utterThis.rate = 0.9;
        break;
      }
      if (voices[i].name == "Microsoft Zira - English (United States)") {
        console.log(voices[i].name);
        utterThis.voice = voices[i];
        utterThis.pitch = 0.6;
        utterThis.rate = 0.6;
        break;
      }
      if (voices[i].name == "Microsoft Zira Desktop - English (United States)") {
        console.log(voices[i].name);
        utterThis.voice = voices[i];
        utterThis.pitch = 0.8;
        utterThis.rate = 0.8;
        break;
      }
    }

    
    //utterThis.pitch = pitch.value;
    //utterThis.rate = rate.value;
    utterThis.lang = utterThis.voice.lang

    synth.speak(utterThis);
}


function myFunction(num,arr){
    event.preventDefault();
    speak(arr[num]);
}

function myFunction2(){
    event.preventDefault();
    speak(par);
}

function resp2(){
    event.preventDefault();
    let sel = document.getElementById("res2")[1].value;
    console.log(sel);
}


function populateVoiceList() {

  let langSubstr = "en-US";

  voices = synth.getVoices().filter(function (v) {
    return v.lang.replace('_', '-').substring(0, langSubstr.length) === langSubstr
  }).sort(function (a, b) {
    const aname = a.name.toUpperCase();
    const bname = b.name.toUpperCase();

    if (aname < bname) {
      return -1;
    } else if (aname == bname) {
      return 0;
    } else {
      return +1;
    }
  });

  const selectedIndex = voiceSelect.selectedIndex < 0 ? 0 : voiceSelect.selectedIndex;
  voiceSelect.innerHTML = "";

  for (let i = 0; i < voices.length; i++) {
    const option = document.createElement("option");
    option.textContent = `${voices[i].name} (${voices[i].lang})`;

    if (voices[i].default) {
      option.textContent += " -- DEFAULT";
    }

    option.setAttribute("data-lang", voices[i].lang);
    option.setAttribute("data-name", voices[i].name);
    voiceSelect.appendChild(option);
  }
  voiceSelect.selectedIndex = selectedIndex;

  //console.log(voices);
}

populateVoiceList();

if (speechSynthesis.onvoiceschanged !== undefined) {
  speechSynthesis.onvoiceschanged = populateVoiceList;
}

pitch.onchange = function () {
  pitchValue.textContent = pitch.value;
};

rate.onchange = function () {
  rateValue.textContent = rate.value;
};


////////////////////////////////////////////////////////////////////////

let recognition;

function runSpeechRecognition() {
  event.preventDefault();
  var output = document.getElementById("output");

  // new speech recognition object
  var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;
  recognition = new SpeechRecognition();

  // Recogniser doesn't stop listening even if the user pauses
  recognition.continuous = false;
	recognition.lang = 'en-US';
	recognition.interimResults = true;

  // This runs when the speech recognition service returns result
  recognition.onresult = function(event) {
                    /*
					let transcript = event.results[0][0].transcript;
          let confidence = event.results[0][0].confidence;
          output.innerHTML = "<b>Text:</b> " + transcript + "<br/> <b>Confidence:</b> " + confidence*100+"%";
          output.classList.remove("hide");*/

					output.innerHTML ="";
					let len = event.results.length;
					for (let i = event.resultIndex; i < len; i++) {
						/*if (event.results[i].isFinal) {
							output.innerHTML = event.results[i][0].transcript + ' (Confidence: ' + event.results[i][0].confidence + ')';
						} else {
							output.innerHTML+= event.results[i][0].transcript;
						}*/
						output.innerHTML+= event.results[i][0].transcript;
					}
					/**/
  };

  recognition.addEventListener('error', function(event) {
		console.log('Speech recognition error detected: ' + event.error);
		runSpeechRecognition();
	});

  recognition.addEventListener('error', runSpeechRecognition);

  // This runs when the speech recognition service starts
  recognition.onstart = function() {
    output.innerHTML = "<small>listening, please speak...</small>";
  };

  recognition.onspeechend = function() {
    recognition.stop();
  }

  recognition.start();
}

function stopSpeechRecognition() {
	console.log("stoped");
	recognition.stop();
}

/////////////////////////////////////////////////////////////////////

function getBrowserName() {
  var browserName = '';
  var userAgent = navigator.userAgent;
  (typeof InstallTrigger !== 'undefined') && (browserName = 'Firefox');
  ( /* @cc_on!@*/ false || !!document.documentMode) && (browserName = 'IE');
  (!!window.chrome && userAgent.match(/OPR/)) && (browserName = 'Opera');
  (!!window.chrome && userAgent.match(/Edge/)) && (browserName = 'Edge');
  (!!window.chrome && !userAgent.match(/(OPR|Edge)/)) && (browserName = 'Chrome');

  /**
   * Expected returns
   * Firefox, Opera, Edge, Chrome
   */
  return browserName;
}


</script>
    
</body>
</html>